<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Templating · JuDoc.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>JuDoc.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../workflow/">Workflow</a></li><li><a class="toctext" href="../syntax/">Syntax</a></li><li class="current"><a class="toctext" href>Templating</a><ul class="internal"><li><a class="toctext" href="#Basic-syntax-1">Basic syntax</a></li><li><a class="toctext" href="#Conditional-blocks-1">Conditional blocks</a></li><li><a class="toctext" href="#Function-blocks-1">Function blocks</a></li></ul></li><li><a class="toctext" href="../contrib/">Contributing</a></li></ul></li><li><span class="toctext">Library</span><ul><li><a class="toctext" href="../../lib/design/">Design</a></li><li><a class="toctext" href="../../lib/public/">Public</a></li><li><a class="toctext" href="../../lib/internals/">Internals</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href>Templating</a></li></ul><a class="edit-page" href="https://github.com/tlienart/JuDoc.jl/blob/master/docs/src/man/templating.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Templating</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Templating-1" href="#Templating-1">Templating</a></h1><p>This page is about the templating syntax that is used in JuDoc which allows you to have some control over the generated HTML. It can be useful as a way to, depending on the page,</p><ul><li>adjust the layout,</li><li>specify elements that should be inserted in the page such as date of last modification, page author(s), etc.,</li><li>specify auxiliary elements that should be loaded with the page such as stylesheets or javascript libraries,</li><li>...</li></ul><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>The templating system is still rudimentary at this point and is likely to be significantly improved over time (your help and suggestions are welcome!).</p></div></div><p><strong>Contents</strong>:</p><ul><li><a href="#Basic-syntax-1">Basic syntax</a></li><li><a href="#Conditional-blocks-1">Conditional blocks</a><ul><li><a href="#Base-conditional-blocks-1">Base conditional blocks</a></li><li><a href="#isdef-conditional-blocks-1"><code>isdef</code> conditional blocks</a></li><li><a href="#ispage-conditional-blocks-1"><code>ispage</code> conditional blocks</a></li></ul></li><li><a href="#Function-blocks-1">Function blocks</a></li></ul><h2><a class="nav-anchor" id="Basic-syntax-1" href="#Basic-syntax-1">Basic syntax</a></h2><p>When developing your website, you can define global or local page variables using</p><pre><code class="language-judoc">@def varname = ...</code></pre><p>either in the <code>src/config.md</code> file  (in which case the variable is global) or in a specific page (in which case the variable is local or overwrites a global one). See also the page on the markdown <a href="../syntax/#Syntax-1">Syntax</a>.</p><p>These variables can subsequently be called in &quot;HTML Blocks&quot; in a way that is inspired from Hugo&#39;s templating system via <code>{{...}}</code>. These blocks would be placed in the  HTML layout building blocks files that are in <code>src/_html_parts/</code>.</p><p>A simple example is the insertion of a string defining the title of the page (which would appear the tab name). In the markdown of <code>src/path/page1.md</code> you would have:</p><pre><code class="language-judoc">@def title = &quot;Title for page 1&quot;</code></pre><p>and in <code>src/_html_parts/head.html</code> you would have</p><pre><code class="language-html">&lt;title&gt;{{fill title}}&lt;/title&gt;</code></pre><p>This HTML block has the form <code>{{function_name a b ...}}</code> where <code>a</code>, <code>b</code>, ... are page variable names. Here the <code>fill</code> function simply tries to find a page variable <code>&quot;title&quot;</code> and places its content here so that in the final generated HTML, there would be:</p><pre><code class="language-html">&lt;title&gt;Title for page 1&lt;/title&gt;</code></pre><p>See <a href="#Function-blocks-1">Function blocks</a> for more such functions that can be used.</p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>Whitespaces in HTML blocks are irrelevant as long as the different parts are separated by at least one so for instance <code>{{fill title }}</code> or <code>{{ fill   title}}</code> would both be fine.</p></div></div><h2><a class="nav-anchor" id="Conditional-blocks-1" href="#Conditional-blocks-1">Conditional blocks</a></h2><p>It will often be handy to do things in your layout conditional on specific variables. Three types of conditional blocks are allowed:</p><ul><li>a &quot;classical&quot; conditional block with <code>if</code>, <code>elseif</code>, <code>else</code> that accepts page variables that have boolean value,</li><li>a conditional block that does something provided a variable exists (or not),</li><li>a conditional block that does something depending on whether the page is a specific one (or not a specific one).</li></ul><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>Nesting of conditional blocks is currently <strong>not allowed</strong>  but shouldn&#39;t be hard to implement and will likely be supported in the near future.</p></div></div><h3><a class="nav-anchor" id="Base-conditional-blocks-1" href="#Base-conditional-blocks-1">Base conditional blocks</a></h3><p>Such blocks have the structure</p><pre><code class="language-html">{{if vname1}}
...
{{elseif vname2}}
...
{{else}}
...
{{end}}</code></pre><p>where the <code>{{elseif ... }}</code> and <code>{{else}}</code> blocks are optional. They work as you would expect: look up the variables <code>vname1</code> in the currently available page variables, if it doesn&#39;t exist an error will be shown and the whole conditional block will be ignored, otherwise the value is retrieved and depending on whether it is <code>true</code> or <code>false</code> the relevant blocks will be executed.</p><p>As a simple example consider a variable <code>draft</code> which you could use to control the addition of a banner at the top of a page indicating it&#39;s still work in progress:</p><p>in <code>src/pages/pg1.md</code> you would have</p><pre><code class="language-julia">@def draft = true</code></pre><p>while in <code>src/_html_parts/head.html</code> you could have</p><pre><code class="language-html">{{if draft}}
&lt;div class=&quot;draft-banner&quot; style=&quot;background-color:red;
color:white;padding:10px;font-weight:bold;&quot;&gt;
    This is currently work in progress!
&lt;/div&gt;
{{end}}</code></pre><h3><a class="nav-anchor" id="isdef-conditional-blocks-1" href="#isdef-conditional-blocks-1"><code>isdef</code> conditional blocks</a></h3><p>The <code>{{isdef vname}}</code> or <code>{{isnotdef vname}}</code> are blocks that do something depending on whether a specific variable exists (or not):</p><pre><code class="language-html">{{isdef author}}
...
{{end}}</code></pre><p>Such blocks can be useful where you sometimes want something to be defined and sometimes not.</p><p>For instance, you may want to add a title if the variable <code>title</code> exists: in the markdown you would then either have <code>@def title = ...</code> or not and in the <code>head.html</code>:</p><pre><code class="language-html">{{isdef title}}
&lt;title&gt;{{fill title}}&lt;/title&gt;
{{end}}</code></pre><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>Currently these blocks do not accept <code>{{else}}</code> statements but this should be supported in the near future.</p></div></div><h3><a class="nav-anchor" id="ispage-conditional-blocks-1" href="#ispage-conditional-blocks-1"><code>ispage</code> conditional blocks</a></h3><p>The <code>{{ispage path/to/page}}</code> or <code>{{isnotpage path/to/page}}</code> are blocks that do something depending on whether the page is a specific one (or not). For instance in the <code>pure-sm</code> template, in the <code>head.html</code> you will see elements for the side menu with</p><pre><code class="language-html">&lt;li class=&quot;pure-menu-item {{ispage /index.html}}pure-menu-selected{{end}}&quot;&gt;
    &lt;a href=&quot;/&quot; class=&quot;pure-menu-link&quot;&gt;Home&lt;/a&gt;
&lt;/li&gt;</code></pre><p>which add a class to a <code>&lt;li&gt;</code> object depending on the page that indicate which list item should be styled as a &quot;selected&quot; button depending on the page we&#39;re on.</p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>As the def blocks above, these blocks do not yet accept <code>{{else}}</code> statements.</p></div></div><h2><a class="nav-anchor" id="Function-blocks-1" href="#Function-blocks-1">Function blocks</a></h2><p>These are blocks of the form</p><pre><code class="language-html">{{f_name p1 p2}}</code></pre><p>where <code>f_name</code> is a function name (see below) and <code>p1</code>, <code>p2</code> would be variable names that correspond to arguments of the function.</p><table><tr><th style="text-align: left">Name</th><th style="text-align: left">#params</th><th style="text-align: left">Example</th><th style="text-align: left">Role</th></tr><tr><td style="text-align: left"><code>fill</code></td><td style="text-align: left">1</td><td style="text-align: left"><code>{{fill author}}</code></td><td style="text-align: left">replaces the block with the value of the page variable</td></tr><tr><td style="text-align: left"><code>insert</code></td><td style="text-align: left">1</td><td style="text-align: left"><code>{{insert path/to/file}}</code></td><td style="text-align: left">replaces the block with the content of the file at <code>path/to/file</code></td></tr></table><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>If you would like to have more of those, please open an issue and explain the use-case, I&#39;ll be happy to expand the list.</p></div></div><footer><hr/><a class="previous" href="../syntax/"><span class="direction">Previous</span><span class="title">Syntax</span></a><a class="next" href="../contrib/"><span class="direction">Next</span><span class="title">Contributing</span></a></footer></article></body></html>
